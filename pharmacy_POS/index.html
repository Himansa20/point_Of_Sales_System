<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
  <title>Pharmacy Management System - Login</title>
<link rel="stylesheet" href="/style/style.css">
</head>
<body>
    <div class="admin">
        <h4> <a href="/pages/admin.html">Admin log in</a> </h4>
    </div>
  <main class="login-container" role="main" aria-label="Login form for Pharmacy Management System">
    <header class="login-header">
      <h1>Healthguard Pharmacy</h1>
      <p class="cashier">Cashier Log in</p>
    </header>
    <form id="loginForm" novalidate>
      <label for="username">Username</label>
      <input type="text" id="username" name="username" autocomplete="username" placeholder="Enter your username" required aria-required="true" />
      
      <label for="password">Password</label>
      <input type="password" id="password" name="password" autocomplete="current-password" placeholder="Enter your password" required aria-required="true" />
      
      <button type="submit">Log In</button>
    </form>
    <div class="footer">Â© 2025 Pharmacy Management System</div>
  </main>
  <script>
    document.getElementById("loginForm").addEventListener("submit", async function (event) {
    event.preventDefault();
  
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    console.log(password)
    const response = await fetch("http://localhost:8080/api/v1/loginemp", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify({ username, password }),

    });

    if (response.ok) {
        window.location.href = "/pages/cashier.html";
    } else {
        const errorText = await response.text();
        alert("Login failed: " + errorText);
    }
  });
  </script>
<!-- <script src="/script/employee.js"></script> -->
</body>
</html>